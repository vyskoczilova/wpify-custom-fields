(window.webpackJsonp_wpify_custom_fields=window.webpackJsonp_wpify_custom_fields||[]).push([[14],{299:function(e,t,n){"use strict";n.r(t);var r=n(13),a=n.n(r),o=n(10),c=n.n(o),l=n(0),i=n(1),u=n(2),s=n.n(u),m=n(5),p=n.n(m),f=n(23),b=n(54),d=n(6),g=n.n(d),y=n(9),v=n.n(y),O=n(7),j=n(61),_=n(60),h=n(3),w=n(4);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e){var t=e.group_level,n=e.onChange,r=e.items,a=void 0===r?[]:r,o=e.value,c=e.htmlId,i=void 0===c?function(e){return e}:c,u=e.className,s=e.index,m=e.length,f=void 0===m?0:m,b=e.collapsed,d=void 0!==b&&b,y=e.toggleCollapsed,E=void 0===y?function(){return null}:y,k=e.appContext,C=function(e){var t=N(N({},o),e);n(t)},x=a.map((function(e){var t=o[e.id],n=Object(O.b)(e);return n.getHumanTitle?n.getHumanTitle(e,t):t})).find((function(e){return"string"==typeof e}))||"";return Object(l.createElement)("div",{className:p()("wcf-multi-group-row",u)},Object(l.createElement)("h4",{className:p()("wcf-multi-group-row__header")},f>0&&Object(l.createElement)(_.a,null),Object(l.createElement)("span",{className:p()("wcf-multi-group-row__title"),onClick:function(){return E()}},"#",s+1,": ",x),Object(l.createElement)(j.a,{onClick:function(){return n(null)}})),Object(l.createElement)("div",{className:p()("wcf-multi-group-row__content",{"wcf-multi-group-row__content--collapsed":d})},a.map((function(e){var n=Object(O.b)(e);return Object(l.createElement)("div",{key:e.id,className:p()("wcf-multi-group-row__content-item")},!Object(w.applyFilters)("wcf_field_without_label",!1,e.type)&&Object(l.createElement)(h.a,null,Object(l.createElement)("label",{className:p()("wcf-multi-group-row__content-item-label"),htmlFor:i(e.id),dangerouslySetInnerHTML:{__html:e.title}})),Object(l.createElement)(h.a,null,Object(l.createElement)(n,g()({},e,{id:e.id,htmlId:i,group_level:t,onChange:function(t){return C(v()({},e.id,t))},value:o[e.id],appContext:k}))))}))))};k.propTypes={index:s.a.number,group_level:s.a.number,onChange:s.a.func,items:s.a.array,value:s.a.object,htmlId:s.a.func,className:s.a.string,collapsed:s.a.bool,length:s.a.number,toggleCollapsed:s.a.func,appContext:s.a.object};var C,x=k,S=n(59),T=new Uint8Array(16);function P(){if(!C&&!(C="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return C(T)}for(var I=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,R=function(e){return"string"==typeof e&&I.test(e)},D=[],J=0;J<256;++J)D.push((J+256).toString(16).substr(1));var V=function(e,t,n){var r=(e=e||{}).random||(e.rng||P)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(D[e[t+0]]+D[e[t+1]]+D[e[t+2]]+D[e[t+3]]+"-"+D[e[t+4]]+D[e[t+5]]+"-"+D[e[t+6]]+D[e[t+7]]+"-"+D[e[t+8]]+D[e[t+9]]+"-"+D[e[t+10]]+D[e[t+11]]+D[e[t+12]]+D[e[t+13]]+D[e[t+14]]+D[e[t+15]]).toLowerCase();if(!R(n))throw TypeError("Stringified UUID is invalid");return n}(r)},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(O.a)(e).map((function(e){return delete e.__key,e}))},A=function(e){var t=e.group_level,n=void 0===t?0:t,r=e.onChange,o=e.id,u=e.items,s=void 0===u?[]:u,m=e.value,d=void 0===m?[]:m,g=e.className,y=e.appContext,v=Object(i.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?Object(O.a)(e).map((function(e){return e.__key=V(),e})):[]}(d)),j=c()(v,2),_=j[0],w=j[1],E=Object(i.useState)(null),N=c()(E,2),k=N[0],C=N[1],T=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a()(_);null===t?n.splice(e,1):n[e]=t,w(n)}};return Object(i.useEffect)((function(){r&&JSON.stringify(d)!==JSON.stringify(W(_))&&r(W(_))}),[r,d,_]),Object(l.createElement)("div",{className:p()("wcf-multi-group",g)},0===n&&Object(l.createElement)("input",{type:"hidden",id:o,name:o,value:JSON.stringify(_)}),Object(l.createElement)(h.a,null,Object(l.createElement)(S.a,{list:_,setList:w},_.map((function(e,t){return Object(l.createElement)(h.a,{key:e.__key},Object(l.createElement)(x,{group_level:n+1,onChange:T(t),items:s,value:e,htmlId:function(e){return o+"_"+t+"_"+e},index:t,length:_.length,collapsed:e.__key!==k,toggleCollapsed:function(){return C(e.__key===k?null:e.__key)},appContext:y}))})))),Object(l.createElement)("div",{className:p()("wcf-multi-group__buttons")},Object(l.createElement)(b.a,{className:p()("button-secondary"),onClick:function(){var e=a()(_),t=V();e.push({__key:t}),w(e),C(t)}},Object(f.__)("Add","wpify-custom-fields"))))};A.propTypes={object_type:s.a.string,items:s.a.string,appContext:s.a.string,group_level:s.a.number,value:s.a.any,onChange:s.a.func,id:s.a.string,name:s.a.string,className:s.a.string},t.default=A},54:function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=n(50),c=n.n(o),l=n(0),i=(n(1),n(5)),u=n.n(i),s=n(2),m=function(e){var t=e.className,n=c()(e,["className"]);return Object(l.createElement)("button",a()({type:"button",className:u()("button",t)},n))};m.propTypes={className:n.n(s).a.string},t.a=m},59:function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=n(0),c=(n(1),n(72)),l=n(3);t.a=function(e){return Object(o.createElement)(l.a,null,Object(o.createElement)(c.ReactSortable,a()({animation:150,handle:".wcf-button--move",ghostClass:"wcf-sortable-ghost",dragClass:"wcf-sortable-drag"},e)))}},60:function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=n(50),c=n.n(o),l=n(0),i=(n(1),n(2)),u=n.n(i),s=n(5),m=n.n(s),p=function(e){var t=e.className,n=c()(e,["className"]);return Object(l.createElement)("button",a()({type:"button",className:m()(t,"wcf-button wcf-button--move")},n),Object(l.createElement)("svg",{width:10,height:10,viewBox:"0 0 10 10"},Object(l.createElement)("line",{stroke:"#50575e",strokeWidth:2,x1:0,y1:1,x2:10,y2:1}),Object(l.createElement)("line",{stroke:"#50575e",strokeWidth:2,x1:0,y1:5,x2:10,y2:5}),Object(l.createElement)("line",{stroke:"#50575e",strokeWidth:2,x1:0,y1:9,x2:10,y2:9})))};p.propTypes={className:u.a.string},t.a=p},61:function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=n(50),c=n.n(o),l=n(0),i=(n(1),n(2)),u=n.n(i),s=n(5),m=n.n(s),p=function(e){var t=e.className,n=c()(e,["className"]);return Object(l.createElement)("button",a()({type:"button",className:m()(t,"wcf-button wcf-button--delete")},n),Object(l.createElement)("svg",{width:10,height:10,viewBox:"0 0 10 10"},Object(l.createElement)("line",{stroke:"#50575e",strokeWidth:2,x1:1,y1:9,x2:9,y2:1}),Object(l.createElement)("line",{stroke:"#50575e",strokeWidth:2,x1:1,y1:1,x2:9,y2:9})))};p.propTypes={className:u.a.string},t.a=p}}]);