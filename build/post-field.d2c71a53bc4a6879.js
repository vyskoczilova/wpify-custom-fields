(window.webpackJsonp_wpify_custom_fields=window.webpackJsonp_wpify_custom_fields||[]).push([[21],{140:function(e,t,n){"use strict";n.r(t);var r=n(64),a=n.n(r),c=n(9),i=n.n(c),o=n(0),s=n(1),l=n.n(s),u=n(2),m=n.n(u),p=n(7),f=n(66),b=n(52),d=n(59),O=n(60),y=n(3),g=n(4),j=function(e){var t=e.id,n=e.onChange,r=e.description,c=e.group_level,u=void 0===c?0:c,m=e.required,j=e.isMulti,v=void 0!==j&&j,E=e.className,h=e.post_type,w=void 0===h?"post":h,_=e.query_args,N=void 0===_?[]:_,x=e.appContext,S=Object(s.useMemo)((function(){var t=(Array.isArray(e.value)?e.value:[e.value]).filter(Boolean).map((function(e){return parseInt(e,10)}));return e.generator?Object(g.applyFilters)("wcf_generator_"+e.generator,t,e):t}),[e]),k=x.api,T=void 0===k?{}:k,I=T.url,C=T.nonce,A=Object(s.useState)(S),P=i()(A,2),D=P[0],M=P[1],q=Object(s.useState)(""),W=i()(q,2),B=W[0],J=W[1];Object(s.useEffect)((function(){n&&JSON.stringify(S)!==JSON.stringify(D)&&n(v?D:D.find(Boolean))}),[v,S,D,n]);var H=Object(p.e)({defaultValue:[]}),F=H.fetch,L=H.result,R=Object(s.useRef)(0);Object(s.useEffect)((function(){return window.clearTimeout(R.current),R.current=window.setTimeout((function(){I&&C&&F({method:"post",url:I+"/posts",nonce:C,body:{id:t,value:S,description:r,group_level:u,required:m,isMulti:v,post_type:w,query_args:N,search:B}})}),500),function(){window.clearTimeout(R.current)}}),[I,C,t,S,r,u,m,v,w,N,B,F]);var G=Object(s.useCallback)((function(){return D.map((function(e){return L&&Array.isArray(L)?L.find((function(t){return String(t.value)===String(e)})):[]})).filter(Boolean)}),[D,L]),V=function(e){return function(){M(D.filter((function(t){return String(t)!==String(e)})))}},z=G();return Object(o.createElement)(l.a.Fragment,null,0===u&&Object(o.createElement)("input",{type:"hidden",name:t,value:v?JSON.stringify(D):D}),Object(o.createElement)(y.a,null,Object(o.createElement)(f.a,{onInputChange:J,options:L&&Array.isArray(L)?L.filter((function(e){return!D.includes(String(e.value))})):[],onChange:function(e){if(v){var t=[].concat(a()(D),[e.value]);M(a()(new Set(t.map((function(e){return String(e)})))))}else M([e.value])},value:null,className:E})),r&&Object(o.createElement)(y.a,null,Object(o.createElement)("p",{className:"description",dangerouslySetInnerHTML:{__html:r}})),Object(o.createElement)("div",{className:"wcf-post-selected"},Object(o.createElement)(y.a,null,Object(o.createElement)(O.a,{items:D.map(String),setItems:function(e){return M(e.map((function(e){return parseInt(e)})))},renderItem:function(e){var t=z.find((function(t){return t.value.toString()===e.toString()}));return t?Object(o.createElement)(y.a,{key:t.value},Object(o.createElement)("div",{className:"wcf-post-selected__item"},Object(o.createElement)("div",{className:"wcf-post-selected__item-header"},D.length>1&&Object(o.createElement)(b.a,null),Object(o.createElement)("strong",{dangerouslySetInnerHTML:{__html:t.label}}),Object(o.createElement)(d.a,{onClick:V(t.value)})),Object(o.createElement)(y.a,null,Object(o.createElement)("p",{dangerouslySetInnerHTML:{__html:t.excerpt}})))):null}}))))};j.propTypes={className:m.a.string,id:m.a.string,value:m.a.oneOfType([m.a.string,m.a.number,m.a.array]),onChange:m.a.func,options:m.a.array,description:m.a.oneOfType([m.a.string,m.a.element]),list_type:m.a.string,group_level:m.a.number,required:m.a.bool,isMulti:m.a.bool,post_type:m.a.string,query_args:m.a.array,appContext:m.a.object,generator:m.a.string},t.default=j},52:function(e,t,n){"use strict";var r=n(6),a=n.n(r),c=n(48),i=n.n(c),o=n(0),s=(n(1),n(2)),l=n.n(s),u=n(5),m=n.n(u),p=["className"],f=function(e){var t=e.className,n=i()(e,p);return Object(o.createElement)("button",a()({type:"button",className:m()(t,"wcf-button wcf-button--move")},n),Object(o.createElement)("svg",{width:10,height:10,viewBox:"0 0 10 10"},Object(o.createElement)("line",{stroke:"#50575e",strokeWidth:2,x1:0,y1:1,x2:10,y2:1}),Object(o.createElement)("line",{stroke:"#50575e",strokeWidth:2,x1:0,y1:5,x2:10,y2:5}),Object(o.createElement)("line",{stroke:"#50575e",strokeWidth:2,x1:0,y1:9,x2:10,y2:9})))};f.propTypes={className:l.a.string},t.a=f},59:function(e,t,n){"use strict";var r=n(6),a=n.n(r),c=n(48),i=n.n(c),o=n(0),s=(n(1),n(2)),l=n.n(s),u=n(5),m=n.n(u),p=["className"],f=function(e){var t=e.className,n=i()(e,p);return Object(o.createElement)("button",a()({type:"button",className:m()(t,"wcf-button wcf-button--delete")},n),Object(o.createElement)("svg",{width:10,height:10,viewBox:"0 0 10 10"},Object(o.createElement)("line",{stroke:"#50575e",strokeWidth:2,x1:1,y1:9,x2:9,y2:1}),Object(o.createElement)("line",{stroke:"#50575e",strokeWidth:2,x1:1,y1:1,x2:9,y2:9})))};f.propTypes={className:l.a.string},t.a=f},60:function(e,t,n){"use strict";var r=n(0),a=(n(1),n(2)),c=n.n(a),i=n(3),o=n(68),s=n(57),l=n(6),u=n.n(l),m=n(5),p=n.n(m),f=n(65),b=n(52),d=function(e){var t=e.id,n=e.children,a=e.className,c=Object(s.d)({id:t}),i=c.attributes,o=c.listeners,l=c.setNodeRef,m=c.transform,d=c.transition,O=c.isDragging,y={transform:f.a.Transform.toString(m),transition:d,position:"relative"};return Object(r.createElement)("div",u()({ref:l,style:y,faded:O.toString(),className:p()(a,"wcf-sortable-item")},e),n,Object(r.createElement)(b.a,u()({},i,o)))};d.propTypes={id:c.a.any,children:c.a.any,className:c.a.string};var O=d,y=function(e){var t=e.items,n=e.setItems,a=e.renderItem,c=Object(o.n)(Object(o.m)(o.d),Object(o.m)(o.c,{coordinateGetter:s.c}));return Array.isArray(t)?Object(r.createElement)(i.a,null,Object(r.createElement)(o.a,{sensors:c,collisionDetection:o.e,onDragEnd:function(e){var r=e.active,a=e.over;if(r.id!==a.id){var c=t.indexOf(r.id),i=t.indexOf(a.id);n(Object(s.b)(t,c,i))}}},Object(r.createElement)(s.a,{items:t},t.map((function(e,t){return Object(r.createElement)(O,{key:e,id:e,index:t},a(e,t))}))))):null};y.propTypes={items:c.a.array,setItems:c.a.func,renderItem:c.a.func},t.a=y},66:function(e,t,n){"use strict";var r=n(6),a=n.n(r),c=n(11),i=n.n(c),o=n(48),s=n.n(o),l=n(0),u=(n(1),n(2)),m=n.n(u),p=n(5),f=n.n(p),b=n(87),d=n(3),O=["className"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e){var t=e.className,n=s()(e,O);return Object(l.createElement)(d.a,null,Object(l.createElement)(b.a,a()({className:f()("wcf-select",t),styles:{control:function(e,t){var n=t.isFocused;return g(g({},e),{},{minHeight:"30px",borderColor:n?"#2271b1 !important":"#8c8f94",boxShadow:n?"0 0 0 1px #2271b1":"none",outline:n?"2px solid transparent":"none",borderRadius:"3px",maxWidth:"25em"})},valueContainer:function(e){return g(g({},e),{},{padding:"0 8px"})}}},n)))};j.propTypes={id:m.a.string,onChange:m.a.func,onInputChange:m.a.func,options:m.a.array,className:m.a.string},t.a=j}}]);